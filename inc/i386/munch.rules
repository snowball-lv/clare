

RULE(IR.Mov(IR.Tmp(), IR.Exp()), {
    VReg *dst = NewVReg();
    VReg *src = Munch(root->right);
    Emit(i386.Mov(dst, src));
    return 0;
})

RULE(IR.Add(IR.Exp(), IR.Exp()), {
    Munch(root->left);
    Munch(root->right);
    printf("add\n");
})

RULE(IR.I32(0), {
    printf("push i32\n");
})
