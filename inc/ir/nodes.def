

// #define NODE(name, params, init)

#define SIMPLE(name)    NODE(name, (), {})

SIMPLE(None)
SIMPLE(Any)

NODE(Mov, (Node *dst, Node *src), {
    self->kids[0] = dst;
    self->kids[1] = src;
})

NODE(Tmp, (), {
    self->index = NextTmpIndex();
})

NODE(Add, (Node *left, Node *right), {
    self->kids[0] = left;
    self->kids[1] = right;
})

NODE(I32, (int32_t i32), {
    self->i32 = i32;
})

NODE(Seq, (Node *left, Node *right), {
    self->kids[0] = left;
    self->kids[1] = right;
})