

RULE(IR.Add(0, 0), {
    printf("add(");
    MUNCH(root->kids[0]);
    printf(", ");
    MUNCH(root->kids[1]);
    printf(")");
})

RULE(IR.Ret(0), {
    printf("return(");
    MUNCH(root->kids[0]);
    printf(")\n");
})

RULE(IR.Arg(0), {
    printf("arg(%d)", root->arg_index);
})

RULE(IR.I32(0), {
    printf("i32(%d)", root->i32);
})

RULE(IR.Tmp(), {
    printf("$tmp%d", root->index);
})

RULE(IR.Mov(0, 0), {
    printf("mov(");
    MUNCH(root->kids[0]);
    printf(", ");
    MUNCH(root->kids[1]);
    printf(")\n");
})

RULE(IR.Seq(0, 0), {
    MUNCH(root->kids[0]);
    MUNCH(root->kids[1]);
})

RULE(IR.Any(), {
    printf("no print rule for node: %s\n", NodeName(root));
})
