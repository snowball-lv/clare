

// #define RULE(pattern, action)

RULE(Nodes.Seq(0, 0), {
    MUNCH(root->kids[0]);
    MUNCH(root->kids[1]);
    printf("seq\n");
})

RULE(Nodes.Mov(Nodes.Tmp(), 0), {
    // Node *dst = root->kids[0];
    MUNCH(root->kids[1]);
    printf("mov\n");
})

RULE(Nodes.Tmp(), {
    printf("tmp\n");
})

RULE(Nodes.Add(0, 0), {
    MUNCH(root->kids[0]);
    MUNCH(root->kids[1]);
    printf("add\n");
})

RULE(Nodes.I32(0), {
    printf("i32\n");
})
