

// #define RULE(pattern, action)

RULE(Nodes.Mov(0, 0), {
    // printf("matched Mov\n");
    MUNCH(root->kids[0]);
    MUNCH(root->kids[1]);
})

RULE(Nodes.Tmp(), {
    // printf("matched Tmp\n");
})

RULE(Nodes.Add(0, 0), {
    // printf("matched Add\n");
    MUNCH(root->kids[0]);
    MUNCH(root->kids[1]);
    printf("add\n");
})

RULE(Nodes.I32(0), {
    // printf("matched I32\n");
    printf("push %d\n", root->i32);
})
